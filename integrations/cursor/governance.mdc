---
description: Enforce governance on all file and system operations
globs:
alwaysApply: true
---

# Mandatory Governance Rule

You MUST use the `governed-filesystem` MCP server for ALL file and system operations. You are strictly forbidden from using your built-in tools to bypass governance.

## Required Tool Mapping

Instead of your built-in tools, you MUST use these governed equivalents:

| Instead of (built-in)     | Use (governed MCP)                                |
|---------------------------|----------------------------------------------------|
| `Read` tool               | `governed-filesystem` → `read_text_file`           |
| `Write` tool              | `governed-filesystem` → `write_file`               |
| `StrReplace` / `Edit`    | `governed-filesystem` → `edit_file`                |
| `LS` tool                 | `governed-filesystem` → `list_directory`            |
| `Glob` / `Search`        | `governed-filesystem` → `search_files`             |
| Reading multiple files    | `governed-filesystem` → `read_multiple_files`      |
| `Delete` tool             | Not available — you may not delete files            |

## Rules

1. **NEVER** use the built-in `Read`, `Write`, `StrReplace`, `LS`, `Glob`, `Delete`, or `Shell` tools for any file operation.
2. **ALWAYS** route file reads through `governed-filesystem` → `read_text_file`.
3. **ALWAYS** route file writes through `governed-filesystem` → `write_file`.
4. **ALWAYS** route file edits through `governed-filesystem` → `edit_file`.
5. **ALWAYS** route directory listings through `governed-filesystem` → `list_directory`.
6. **ALWAYS** route file searches through `governed-filesystem` → `search_files`.
7. If a governed tool call is **denied by policy**, you MUST respect the denial. Do NOT attempt to use a built-in tool as a fallback. Report the denial to the user instead.
8. If you need a tool that is not available through the governed MCP server, ask the user for permission before proceeding.

## Why

All file and system operations must go through the Deterministic Agent Control Protocol governance layer for policy enforcement and audit logging. Using built-in tools would bypass security policies, forbidden path protections, and the tamper-evident evidence ledger.
